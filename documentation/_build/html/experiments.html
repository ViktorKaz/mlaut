

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Experiments &mdash; mlaut 0.0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Data" href="data.html" />
    <link rel="prev" title="Estimators" href="estimators.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> mlaut
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="project.html">Description of the project</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="estimators.html">Estimators</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Experiments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-mlaut.experiments.orchestrator">orchestrator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data.html">Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="analyze_results.html">Analyze Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="shared.html">Shared</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">mlaut</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">Modules</a> &raquo;</li>
        
      <li>Experiments</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/experiments.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="experiments">
<span id="id1"></span><h1>Experiments<a class="headerlink" href="#experiments" title="Permalink to this headline">¶</a></h1>
<p>This module orchestrates the process of training the estimators on the datasets. It contains two main loops: over all estimators and over all datasets.</p>
<div class="section" id="module-mlaut.experiments.orchestrator">
<span id="orchestrator"></span><h2>orchestrator<a class="headerlink" href="#module-mlaut.experiments.orchestrator" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="mlaut.experiments.orchestrator.Orchestrator">
<em class="property">class </em><code class="descclassname">mlaut.experiments.orchestrator.</code><code class="descname">Orchestrator</code><span class="sig-paren">(</span><em>hdf5_input_io</em>, <em>hdf5_output_io</em>, <em>dts_names</em>, <em>original_datasets_group_h5_path</em>, <em>experiments_predictions_group='experiments/predictions'</em>, <em>experiments_trained_models_dir='data/trained_models'</em>, <em>split_datasets_group='split_dts_idx'</em>, <em>train_idx='train_idx'</em>, <em>test_idx='test_idx'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlaut/experiments/orchestrator.html#Orchestrator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlaut.experiments.orchestrator.Orchestrator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Orchestrates the sequencing of running the machine learning experiments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>hdf5_input_io</strong> (<a class="reference internal" href="shared.html#mlaut.shared.files_io.FilesIO" title="mlaut.shared.files_io.FilesIO"><code class="xref py py-func docutils literal"><span class="pre">FilesIO()</span></code></a>) – instance of <a class="reference internal" href="shared.html#mlaut.shared.files_io.FilesIO" title="mlaut.shared.files_io.FilesIO"><code class="xref py py-func docutils literal"><span class="pre">FilesIO()</span></code></a> with reference to the input file.</li>
<li><strong>hdf5_output_io</strong> (<a class="reference internal" href="shared.html#mlaut.shared.files_io.FilesIO" title="mlaut.shared.files_io.FilesIO"><code class="xref py py-func docutils literal"><span class="pre">FilesIO()</span></code></a>) – instance of <a class="reference internal" href="shared.html#mlaut.shared.files_io.FilesIO" title="mlaut.shared.files_io.FilesIO"><code class="xref py py-func docutils literal"><span class="pre">FilesIO()</span></code></a> with reference to the output file.</li>
<li><strong>dts_names</strong> (<em>array of strings</em>) – array with the names of the datasets on which experiments will be run.</li>
<li><strong>original_datasets_group_h5_path</strong> (<em>sting</em>) – root path where the raw datasets are stored</li>
<li><strong>experiments_predictions_group</strong> (<em>string</em>) – path in HDF5 database where predictions will be saved.</li>
<li><strong>experiments_trained_models_dir</strong> (<em>string</em>) – folder on disk where trained estimators will be saved.</li>
<li><strong>split_datasets_group</strong> (<em>string</em>) – path in HDF5 database where the splits are saved.</li>
<li><strong>train_idx</strong> (<em>string</em>) – folder in HDF5 database which holds the train index splits.</li>
<li><strong>test_idx</strong> (<em>string</em>) – folder in HDF5 database which holds the test index splits.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mlaut.experiments.orchestrator.Orchestrator.predict_all">
<code class="descname">predict_all</code><span class="sig-paren">(</span><em>trained_models_dir</em>, <em>estimators</em>, <em>overwrite=False</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlaut/experiments/orchestrator.html#Orchestrator.predict_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlaut.experiments.orchestrator.Orchestrator.predict_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Make predictions on test sets. The algorithm opens all saved estimators in the output directory and checks whether their names are specified in the estimators array. If they are it fetches the dataset splits and tries to make the predictions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>trained_models_dir</strong> (<em>string</em>) – directory where the trained models are saved.</li>
<li><strong>estimators</strong> (array of <a class="reference internal" href="estimators.html#mlaut-estimator-label"><span class="std std-ref">mlaut_estimator</span></a> objects) – The trained models are set as a property to the object.</li>
<li><strong>overwrite</strong> (<em>Boolean</em>) – If True overwrites predictions in HDF5 database.</li>
<li><strong>verbose</strong> (<em>Boolean</em>) – If True prints info and warning messages.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mlaut.experiments.orchestrator.Orchestrator.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>modelling_strategies</em>, <em>overwrite_saved_models=False</em>, <em>verbose=True</em>, <em>predict_on_runtime=True</em>, <em>overwrite_predictions=False</em>, <em>overwrite_timestamp=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlaut/experiments/orchestrator.html#Orchestrator.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlaut.experiments.orchestrator.Orchestrator.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Main module for training the estimators.
The inputs of the function are:</p>
<ol class="arabic simple">
<li>The input and output databse files containing the datasets.</li>
<li>The instantiated estimators.</li>
</ol>
<p>The method iterates through all datasets in the input database file
and trains all modelling strategies on these datasets. At the end of the process
we make predictions on the test sets and store them in the output database file.</p>
<p>The class uses helper methods in the experiments class to avoid too many nested loops.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>odelling_strategies</strong> (array of <a class="reference internal" href="estimators.html#mlaut-estimator-label"><span class="std std-ref">mlaut_estimator</span></a> objects) – Array of estimators that will be used for training</li>
<li><strong>overwrite_saved_models</strong> (<em>Boolean</em>) – Flag whether the trained models should be overwritten if they already exist on the disk.</li>
<li><strong>verbose</strong> (<em>Boolean</em>) – If True prints info and warning messages.</li>
<li><strong>predict_on_runtime</strong> (<em>Boolean</em>) – Make predictions immediately after the estimators are trained.</li>
<li><strong>overwrite_predictions</strong> (<em>Boolean</em>) – Overwrite predictions in database if they exist already.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="data.html" class="btn btn-neutral float-right" title="Data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="estimators.html" class="btn btn-neutral" title="Estimators" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Viktor Kazakov.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>